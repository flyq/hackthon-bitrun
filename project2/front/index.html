<!doctype>
<html>

  <head>
    <script type="text/javascript" src="../dist/web3-light.js"></script>
    <script src="https://cdn.bootcss.com/bignumber.js/7.2.1/bignumber.js"></script>

    <script type="text/javascript">

      const privkey = '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee';
      const quota = 999999;

      var contractAddress = "0x8Dfe3E27c3761272180513e4603DcCF01FB1DE7f";

      var chainAddress = "121.196.200.225:1337";

      var abi = [
	{
		"constant": true,
		"inputs": [
			{
				"name": "_customerAddress",
				"type": "address"
			}
		],
		"name": "dividendsOf",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_communityFee",
				"type": "uint256"
			}
		],
		"name": "setCommunityFee",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "lockToken",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_ethereumToSpend",
				"type": "uint256"
			}
		],
		"name": "calculateTokensReceived",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_addr",
				"type": "address"
			}
		],
		"name": "lockTokens",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_tokensToSell",
				"type": "uint256"
			}
		],
		"name": "calculateEthereumReceived",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_fromAddress",
				"type": "address"
			},
			{
				"name": "_toAddress",
				"type": "address"
			},
			{
				"name": "_amountOfTokens",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_addr",
				"type": "address"
			}
		],
		"name": "setContractAddr",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "withdraw",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "sellPrice",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_amount",
				"type": "uint256"
			}
		],
		"name": "setLockAmount",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_dividendFee",
				"type": "uint256"
			}
		],
		"name": "setDividendFee",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseApproval",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalEthereumBalance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_addr",
				"type": "address"
			}
		],
		"name": "lockTokenAdd",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_incremental",
				"type": "uint256"
			}
		],
		"name": "setIncremental",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "administrators",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "buyPrice",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_identifier",
				"type": "address"
			},
			{
				"name": "_status",
				"type": "bool"
			}
		],
		"name": "setAdministrator",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_addr",
				"type": "address"
			}
		],
		"name": "lockTokenSub",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "isLocked",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_toAddress",
				"type": "address"
			},
			{
				"name": "_amountOfTokens",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "lockAmount_",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_addr",
				"type": "address"
			}
		],
		"name": "ownedTokens",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_symbol",
				"type": "string"
			}
		],
		"name": "setSymbol",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "god",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_name",
				"type": "string"
			}
		],
		"name": "setName",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseApproval",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_lastTime",
				"type": "uint256"
			}
		],
		"name": "lock",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			},
			{
				"name": "_spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
      {
      "name": "",
      "type": "uint256"
      }
      ],
		"payable": false,
      "stateMutability": "view",
      "type": "function"
      },
      {
      "constant": true,
      "inputs": [
      {
      "name": "_addr",
				"type": "address"
      },
      {
      "name": "_includeReferralBonus",
      "type": "bool"
      }
      ],
      "name": "ownedDividends",
      "outputs": [
			{
      "name": "",
      "type": "uint256"
      }
		],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
      },
      {
      "constant": false,
		"inputs": [
      {
      "name": "_amountOfTokens",
      "type": "uint256"
      }
      ],
		"name": "sell",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
      },
      {
      "constant": false,
      "inputs": [],
      "name": "exit",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
      },
      {
      "constant": false,
      "inputs": [],
      "name": "unLock",
		"outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
      },
      {
      "constant": false,
      "inputs": [
      {
      "name": "_referredBy",
      "type": "address"
      }
      ],
      "name": "buy",
      "outputs": [
      {
				"name": "",
      "type": "uint256"
      }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
      },
      {
      "constant": false,
      "inputs": [
      {
      "name": "_amount",
      "type": "uint256"
      }
      ],
      "name": "withdrawCommunity",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
      },
      {
      "constant": false,
      "inputs": [],
      "name": "reinvest",
      "outputs": [],
      "payable": false,
		"stateMutability": "nonpayable",
      "type": "function"
	},
      {
      "inputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
      },
      {
      "payable": true,
      "stateMutability": "payable",
      "type": "fallback"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": true,
      "name": "customerAddress",
      "type": "address"
      },
      {
      "indexed": false,
      "name": "incomingEthereum",
      "type": "uint256"
      },
      {
      "indexed": false,
      "name": "tokensMinted",
      "type": "uint256"
      },
      {
      "indexed": true,
				"name": "referredBy",
      "type": "address"
      }
      ],
      "name": "onTokenPurchase",
      "type": "event"
      },
      {
		"anonymous": false,
      "inputs": [
      {
      "indexed": true,
      "name": "customerAddress",
      "type": "address"
			},
      {
      "indexed": false,
      "name": "tokensBurned",
      "type": "uint256"
      },
      {
				"indexed": false,
      "name": "ethereumEarned",
      "type": "uint256"
      }
      ],
      "name": "onTokenSell",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": true,
      "name": "customerAddress",
      "type": "address"
      },
      {
				"indexed": false,
      "name": "ethereumReinvested",
      "type": "uint256"
      },
      {
      "indexed": false,
      "name": "tokensMinted",
      "type": "uint256"
			}
      ],
      "name": "onReinvestment",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": true,
      "name": "customerAddress",
      "type": "address"
      },
      {
      "indexed": false,
      "name": "ethereumWithdrawn",
      "type": "uint256"
      }
      ],
      "name": "onWithdraw",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": false,
      "name": "before",
      "type": "uint256"
      },
      {
      "indexed": false,
      "name": "now_",
      "type": "uint256"
      }
		],
      "name": "ChangeDividendFee",
		"type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": false,
				"name": "before",
      "type": "uint256"
      },
      {
      "indexed": false,
      "name": "now_",
				"type": "uint256"
      }
      ],
      "name": "ChangeCommunityFee",
      "type": "event"
      },
	{
      "anonymous": false,
      "inputs": [
      {
      "indexed": false,
      "name": "before",
      "type": "uint256"
      },
      {
      "indexed": false,
      "name": "now_",
      "type": "uint256"
      }
		],
      "name": "ChangeIncremental",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": false,
      "name": "_addr",
      "type": "address"
      }
		],
      "name": "ChangeContractAddr",
      "type": "event"
      },
      {
      "anonymous": false,
		"inputs": [
      {
				"indexed": false,
      "name": "beginTime",
      "type": "uint256"
      },
      {
      "indexed": false,
				"name": "endTime",
      "type": "uint256"
      }
      ],
      "name": "Lock",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
      {
      "indexed": false,
      "name": "before",
      "type": "uint256"
      },
      {
				"indexed": false,
      "name": "now_",
      "type": "uint256"
      }
		],
      "name": "ChangeLockAmount",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
			{
      "indexed": true,
      "name": "from",
      "type": "address"
      },
      {
				"indexed": true,
      "name": "to",
      "type": "address"
      },
      {
      "indexed": false,
      "name": "value",
      "type": "uint256"
      }
      ],
      "name": "Transfer",
      "type": "event"
      },
      {
      "anonymous": false,
      "inputs": [
			{
      "indexed": true,
      "name": "owner",
      "type": "address"
			},
      {
      "indexed": true,
      "name": "spender",
      "type": "address"
      },
      {
      "indexed": false,
      "name": "value",
      "type": "uint256"
      }
      ],
      "name": "Approval",
      "type": "event"
      }
      ];
      

      if (typeof web3 !== 'undefined') {
      web3 = new Web3(web3.currentProvider);
      } else {
      // set the provider you want from Web3.providers
      web3 = new Web3(new Web3.providers.HttpProvider(chainAddress));
      }

      //get value from contract.
function totalSupply() {
    if (contractAddress != undefined && contractAddress != "default") {
        var contract = web3.eth.contract(abi).at(contractAddress);
        contract.getValuetotalSupply.call(
            function (error, result) {
                if (!error) {
                    console.log("result from contract: " + result);
                    document.getElementById().value = result;
                } else {
                    console.error("Cannot get value. Error: " + error);
                }
            }
        )
    } else {
        console.err("Failed to get value: conrtact address is not correct.");
    }
}
      
   
    </script>
  </head>
  <body>
    <h1>totalSupply</h1>
    <button type="button" onClick="totalSupply();">watch balance</button>
    <div></div>
    <div id="coinbase"></div>
    <div id="original"></div>
    <div id="current"></div>
    <div id="diff"></div>
  </body>
</html>
